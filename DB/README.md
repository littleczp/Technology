# DB

<details>

<summary>MVCC</summary>



</details>

<details>

<summary>为什么推荐自增主键</summary>

1. 无序数据必须分裂页
   1. 分裂时阻塞写入（锁页）：分配新页 -> 移动部分数据 -> 更新父节点指针
   2. 增加碎片：页利用率下降
   3. 随机I/O增多
2. 自增主键
   1. 顺序写入：新数据总是追加到B+树最右侧，避免分裂（级联分裂）
   2. 缓存友好：连续主键提升缓冲池命中率
   3. 空间紧凑：页填充率通常更高（页填充率15/16，当页剩余空间<1/16时触发分裂机制）

</details>

