# 进程API

Fork

{% hint style="info" %}
1. Unix将父进程所有用户地址空间内容复制给子进程（代码段、数据段、BSS段、堆、栈，写时复制）
2. 在内存中，操作系统重新为子进程申请了一个PCB（放在任务队列中，任务队列是个双向链表）
3. 子进程继承父进程的文件描述符表，与父进程共享相同的文件偏移量：共享标准输入、输出、错误
{% endhint %}

1. **创建一个新进程的容器**：确实主要靠 fork()（底层是 clone）
2. **运行一个不同的程序**：靠的是另一组系统调用，统称为 exec()

> 父子进程对同一个文件的读写是**接力**的，而不是**覆盖**的

